#!/bin/bash

declare -a files=('/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/000C6613-1366-7142-9938-B5B40C2FAD80.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/09A6F74C-4A67-E848-8E7A-C1CC3F56771D.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/0A544437-C671-6941-8E72-AFF62E31F237.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/17ADD12B-52E2-8C4C-B375-8AF943A24212.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/1FE65F64-EB89-9C4B-AC4F-AD8DB687C31D.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/25FB46FF-4011-7F44-B02D-34F4726E389E.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/2671C2B5-4F29-AB4A-82ED-8E9FE9B3A5D7.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/26EA44FE-9EE6-FC40-8EE5-7D4E1270F304.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/272D589A-97FA-584E-93A9-09A9341F6222.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/302D81E0-B4F5-9444-9402-82291E535E66.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/32042C72-F828-6245-AC14-6116403FF8B6.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/3B84AD3A-2D0A-5047-840B-414A2492C514.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/3B99362F-9509-A745-B1FC-C237A3CE07D0.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/3D6A6DEF-BE8E-7443-8CF4-1FD725F40FA2.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/53E150DE-BE01-8946-8E9E-8AC35901809E.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/6738A9FC-73D9-8548-A223-C1ECB7C83C1F.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/6BC1AD38-E884-DF4B-BBB0-D110821FD584.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/6BF65710-D026-B14D-95CE-D158621C67DD.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/6FCD4AD7-A6DC-6A48-9149-4470D12CE5CB.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/739D902E-07E1-1047-965E-4691DA25760F.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/792C0C6A-6FF6-BE4F-B527-1298F7343881.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/7B06DB11-115D-A04F-A176-3F7756724270.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/7BAA37BF-A68F-564E-A56D-5CBFA2F58A4C.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/8680713A-343B-5647-8CA9-78B8310EE427.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/8C159F5E-D6B8-1945-86CF-0D942F48CFC6.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/90640A30-7265-4449-B5CE-C8D5F6A3D594.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/9578AF50-F84C-B24B-BF70-A40BA251A60D.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/95E652D9-2553-EA47-885C-5E2BCEEBDC2D.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/997298C0-91B8-3E44-B214-E5480EE71469.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/9CC0265A-FC66-1A47-AAD2-658B883299F2.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/9F11941B-D891-4840-9678-F0DAA706576F.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/A385342C-9A37-BB47-86C7-C7988E9B9CC8.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/A501FD83-1D65-674F-9BD2-8C727020B616.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/BB7B27CC-E1C0-344F-B26F-5E948952A41A.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/BEAACF89-97D1-4A4D-AC65-AA07C644D4A1.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/C12A0792-28A7-1D44-B2A8-B12F5003D5BF.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/C1A7FD48-D1F8-4440-BE12-A8C90ED8C7F8.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/C725ED13-935C-B740-8531-69C5E6DB5D4A.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/C904B2AD-A31A-204D-B77C-149D0F953CAB.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/CEE109D5-57F1-1040-9102-7B2E06042E67.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/E32A97C5-75AB-7944-A4C4-8DB58B474E45.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/E8C4D551-2426-9542-9DEB-923B557416C4.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/E9AF0733-4D1F-2744-B6F4-34A51B412348.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/EB19BF02-E042-F540-A730-2CAF16BDEE01.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/F52E90B1-5BF5-134C-8D93-040428544570.root'\
 '/store/data/Run2018D/EphemeralHLTPhysics2/RAW/v1/000/323/775/00000/F590E530-00C9-9B4D-A1E2-59E9879FE091.root')


out_dir="wp_out/production_${1}"
mkdir $out_dir

i=0
for file in "${files[@]}"; do
  num=$(printf "%02d" $i)
  # if (( $i > 30 )); then
      echo $num
      /cvmfs/cms.cern.ch/slc7_amd64_gcc10/cms/cmssw/CMSSW_12_3_0_pre6/bin/slc7_amd64_gcc10/cmsRun hltResults_cfg_WP.py lumis=lumi_sections_323775.txt output=${out_dir}/output_${num}.root dumpPython=${out_dir}/dump_${num}.py inputFiles=${file}
      echo $executable
  # fi
  i=$((i + 1))
done
